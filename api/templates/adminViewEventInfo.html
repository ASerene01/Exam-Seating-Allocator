{%extends "base.html"%} {%block start%} {% csrf_token %}
<div class="container mt-4">
    <div class="row">
      <div class="col-md-6 offset-md-3">
 <form
    class="d-flex"
    method="post"
    enctype="multipart/form-data"
  >
    {% csrf_token %}
    {% if messages %}
    <div class="alert alert-primary" role="alert">
      {% for message in messages %} {{message}} {% endfor %}
    </div>

    {% endif %}
        
          <select
            name="selectedHall"
            id="selectedHall"
            class="form-select bg-dark text-white me-4"
            aria-label="Halls"
            style="width: 30%"
          >
          {%for hall in allHalls%}
              {%if hall == currentHall%}
                <option selected disabled>{{hall.name}}</option>
              {%else%}
                <option value="{{hall.id}}">{{hall.name}}</option>
              {%endif%}
          {%endfor%}
          
          </select>
        
      <button class="btn btn-outline-primary" type="submit">Change</button>
    </div>

    
  </form>
</div>
</div>
</div>
<div class="hall">
  <div class="screen">Screen</div>


  {%for row_number in hallRows %}
  
      <div class="row">
        {% for hallColumn in hallColumns %}
         {%for seatNumber in seatNumbers%}
            {%if seatNumber.row == row_number.rowAfter and seatNumber.column == hallColumn.columnAfter%}
               
              <div class="seat{%if seatNumber.is_deleted == False%}{%for allocation in allocations%}{% if seatNumber.row == allocation.seat.row and seatNumber.column == allocation.seat.column and allocation.seat == seatNumber %}deleted{% endif %}{%endfor%}{%else%}deleted{%endif%}">
                  {%if seatNumber.is_deleted == False%}{%for allocation in allocations%}{% if seatNumber.row == allocation.seat.row and seatNumber.column == allocation.seat.column and allocation.seat == seatNumber %}
                   
                    <a href="/show_student_allocation_info/{{allocation.id}}"class="btn seatbutton">{{row_number.rowAfter}}{{hallColumn.columnAfter}}</a><br>
                  {% endif %}{%endfor%}{%endif%}
                    
              </div>
              {%if hallColumn.is_space == True%}
              <div class="space">
              </div>
              {%endif%}
            {%endif%}
          {%endfor%}
        {% endfor %}
      </div>
       {%if row_number.is_space == True%}
              <div class="space">
               
              </div>
              {%endif%}
    {% endfor %}
  </div>
{%endblock%}
</div>
