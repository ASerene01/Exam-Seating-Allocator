{%extends "base.html"%} {%block start%} {% csrf_token %}
<div class="container mt-5">
  {%if not user.user_type == "teacher"%}
  <div class="d-flex justify-content-end">
    <a class="btn register-button btn-lg" href="/create_new_event/">Create a new Event</a>
  </div>
  <br>
  {%endif%}
  {% if messages %}
    <div class="alert alert-primary mb-3" role="alert">
      {% for message in messages %} {{message}} {% endfor %}
    </div>
    {% endif %} 
  <table class="table mt-5 table-dark">
  <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">Event Name</th>
      <th scope="col">Date </th>
      <th scope="col">Start Time </th>
      <th scope="col">End Time</th>
      <th scope="col">Action</th>
    </tr>
  </thead>
  <tbody >
    {%for event in events%}
    <tr>
      <th scope="row">{{forloop.counter}}</th>
      <td>{{event.name| capfirst}}</td>
      <td>{{event.date}}</td>
      <td>{{event.start_time}}</td>
      <td>{{event.end_time}}</td>
      
      <td>
        {%if not user.user_type == "teacher"%}
         <a href="/update_course/{{course.id}}" class="btn btn-success m-2">Edit</button>
        <a href="/delete_event/{{event.id}}" class="btn btn-danger m-2" onclick="return confirm('Are you sure you want to delete this event?');">Delete</button>
          <a href="/regenerate_allocations/{{event.id}}" class="btn btn-primary m-2" onclick="return confirm('Are you sure you want to regenerate allocations for this event?');">Regenerate</button>
          {%endif%}
          <a href="/view_seat_allocations{%if user.user_type == "teacher"%}_teacher{%endif%}/{{event.id}}" class="btn btn-success m-2">View Allocations</button>
         
      </td>
    </tr>
    {%endfor%}
  </tbody>
</table>
</div>
    {%endblock%}
  
